@use "theme";
@use "reset";
@use "scrollbar";
@use "golden-ratio";
@use "my-math";
@use "tag-cloud";
@use "sass:color";

:root {
    --tab-size: 0.75rem;
    height: 100vh;
    overflow-y: auto;
    --rem: 1rem;
    background-color: theme.$color-background;
}

body,
#__next {
    overflow-y: hidden;
    height: fit-content;
}

:root,
html,
body {
    color: theme.$color-foreground;
    font-family: "CircularSp", "Comic Sans", serif; //"Circular Std", "Segoe UI", sans-serif;
    font-size: var(--rem);
    overflow-x: hidden;
    scroll-behavior: smooth;
}

body {
    width: 100vw;

    &::before {
        content: "";
        position: fixed;
        top: -25vh;
        right: -25vw;
        bottom: -25vh;
        left: -25vw;
        width: 150vw;
        height: 500vh;
        background-color: transparent;
        background-image: url("/images/universe.png");
        transform: translateY(
            calc(-1 * var(--scroll-y) * min(75vh, var(--size-y) / 3))
        );
        background-size: 1000px 400px;
        background-repeat: repeat;
        z-index: -1;
        opacity: 0.5;
        pointer-events: none;
    }
}

#__next {
    width: 100%;
    max-width: max(golden-ratio.hor(1), 800px);
    overflow-x: hidden;
    padding: golden-ratio.min(11) golden-ratio.min(9);

    * {
        overflow-y: visible;
        background: transparent;
    }
}

@media screen and (min-width: 150vh) {
    #__next {
        margin: 2rem auto;
        border-radius: 0.5rem;
    }
}

pre,
code {
    font-size: 0.8rem;
    font-family: "JetBrains Mono", "Fira Code", "Fira Mono", monospace;
}

a:not(.hidden) {
    color: theme.$color-foreground;
    text-decoration: underline;
}

a.hidden {
    color: inherit;
    text-decoration: none;
}

p {
    margin: {
        top: 0.5em;
        bottom: 0.5em;
    }
}

table {
    th,
    td {
        text-align: left;
    }
}

a,
label {
    cursor: pointer;
    pointer-events: all;
    will-change: color, filter;
    transition: filter theme.$timing ease-out;
}

@media (hover: hover) {
    a,
    label {
        &:hover {
            @include theme.glow;

            * {
                color: theme.$color-accent !important;
            }
        }
    }
}

input,
textarea {
    padding: 0.2em 0.5em;
}

h1 {
    font-size: golden-ratio.min(4);
    white-space: nowrap;
}

h2 {
    font-size: golden-ratio.min(5);
}

h3 {
    font-size: golden-ratio.min(6);
}

h4 {
    font-size: golden-ratio.min(7);
}

h5 {
    font-size: golden-ratio.min(8);
}

h6 {
    font-size: golden-ratio.min(9);
}

button,
input,
textarea {
    border-radius: 0.25em;
}

input:not([type="submit"]),
textarea {
    background-color: theme.$color-foreground-secondary !important;
    color: theme.$color-accent !important;
    filter: drop-shadow(0 0 8px rgba(black, 0.2));

    &::placeholder {
        color: theme.$color-background !important;
    }
}

textarea {
    display: block;
    resize: none;
    width: calc(100% - 3rem);
    height: golden-ratio.min(3);
}

button,
input[type="submit"] {
    background-color: theme.$color-accent !important;
    color: theme.$color-background !important;
    border: none;
    padding: 0.25em 0.5em;
    cursor: pointer;
    will-change: color, filter;
    transition: filter theme.$timing ease-out;
}

::selection {
    background-color: theme.$color-accent;
    color: theme.$color-background;
}
